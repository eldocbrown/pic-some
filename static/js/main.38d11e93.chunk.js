(this["webpackJsonppic-some"]=this["webpackJsonppic-some"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(19),a=n.n(i),o=(n(26),n(11)),s=n(2),u=(n(27),n(21)),j=n(17),l=n(7),b=n(1),m=r.a.createContext();function d(e){var t=e.children,n=Object(c.useState)([]),r=Object(l.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)([]),s=Object(l.a)(o,2),d=s[0],f=s[1];Object(c.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){return a(e)}))}),[]);return Object(b.jsx)(m.Provider,{value:{allPhotos:i,toggleFavorite:function(e){a((function(t){return t.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{isFavorite:!t.isFavorite}):t}))}))},cartItems:d,addItemToCart:function(e){f((function(t){return[].concat(Object(u.a)(t),[e])}))},removeItemFromCart:function(e){f((function(t){return t.filter((function(t){return t.id!==e.id}))}))}},children:t})}var f=function(){var e=Object(c.useContext)(m).cartItems;return Object(b.jsxs)("header",{children:[Object(b.jsx)(o.b,{to:"/",children:Object(b.jsx)("h2",{children:"Pic Some"})}),Object(b.jsx)(o.b,{to:"/cart",children:e.length?Object(b.jsx)("i",{className:"ri-shopping-cart-fill ri-fw ri-2x"}):Object(b.jsx)("i",{className:"ri-shopping-cart-line ri-fw ri-2x"})})]})};n(34);var O=function(e){var t=e.item,n=e.removeItemFromCart,r=Object(c.useRef)(),i=Object(c.useState)(!1),a=Object(l.a)(i,2),o=a[0],s=a[1];return Object(c.useEffect)((function(){r.current.className=o?"ri-delete-bin-fill":"ri-delete-bin-line"}),[o]),Object(b.jsxs)("div",{className:"cart-item",children:[Object(b.jsx)("i",{ref:r,className:"ri-delete-bin-line",onClick:function(){return n(t)},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}),Object(b.jsx)("img",{alt:"",src:t.url,width:"130px"}),Object(b.jsx)("p",{children:"$5.99"})]})};n(35);var h=function(){var e=Object(c.useContext)(m),t=e.cartItems,n=e.removeItemFromCart,r=Object(c.useState)(!1),i=Object(l.a)(r,2),a=i[0],o=i[1],s=t.map((function(e){return Object(b.jsx)(O,{item:e,removeItemFromCart:n},e.id)})),u=(5.99*t.length).toLocaleString("en-US",{style:"currency",currency:"USD"});return Object(b.jsxs)("main",{className:"cart-page",children:[Object(b.jsx)("h1",{children:"Check out"}),s,Object(b.jsxs)("p",{className:"total-cost",children:["Total: ",u]}),t.length?Object(b.jsx)("div",{className:"order-button",children:Object(b.jsx)("button",{onClick:function(){o(!0),setTimeout((function(){t.map((function(e){return n(e)})),o(!1)}),3e3)},disabled:a,children:a?"Ordering...":"Place Order"})}):Object(b.jsx)("p",{children:"No items in cart"})]})};n(36);var x=function(e){var t=e.className,n=e.img,r=Object(c.useContext)(m),i=r.toggleFavorite,a=r.addItemToCart,o=r.removeItemFromCart,s=r.cartItems,u=Object(c.useState)(!1),j=Object(l.a)(u,2),d=j[0],f=j[1],O=function(){return f(!0)},h=function(){return f(!1)},x=function(){return i(n.id)},v=function(){return a(n)},p=function(){return o(n)};return Object(b.jsxs)("div",{className:"".concat(t," image-container"),children:[Object(b.jsx)("img",{src:n.url,alt:"",className:"image-grid",onMouseEnter:O,onMouseLeave:h}),n.isFavorite?Object(b.jsx)("i",{className:"ri-heart-fill favorite",onClick:x}):d?Object(b.jsx)("i",{className:"ri-heart-line favorite",onMouseEnter:O,onMouseLeave:h,onClick:x}):void 0,s.some((function(e){return e.id===n.id}))?Object(b.jsx)("i",{className:"ri-delete-bin-fill cart",onClick:p}):d?Object(b.jsx)("i",{className:"ri-add-circle-line cart",onMouseEnter:O,onMouseLeave:h,onClick:v}):void 0]})};function v(e){return e%5===0?"big":e%6===0?"wide":void 0}var p=function(){var e=Object(c.useContext)(m).allPhotos;return Object(b.jsx)("main",{className:"photos",children:e.map((function(e,t){return Object(b.jsx)(x,{img:e,className:v(t)},e.id)}))})};var g=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(o.a,{basename:"/pic-some",children:[Object(b.jsx)(f,{}),Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{exact:!0,path:"/",component:p}),Object(b.jsx)(s.a,{path:"/cart",component:h})]})]})})};a.a.render(Object(b.jsx)(d,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.38d11e93.chunk.js.map