(this["webpackJsonppic-some"]=this["webpackJsonppic-some"]||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),i=n(31),a=n.n(i),s=(n(39),n(20)),o=n(9),u=(n(40),n(34)),l=n(28),j=n(15),m=n(27);m.a.initializeApp({apiKey:"AIzaSyB9SSWTuNUb2HUHzBnWNAk8J4wNx9vfQAE",authDomain:"pic-some-300b5.firebaseapp.com",projectId:"pic-some-300b5",storageBucket:"pic-some-300b5.appspot.com",messagingSenderId:"440861919380",appId:"1:440861919380:web:6734f4c08306a1e9b5cc81"});var b=m.a,d=n(4),f=r.a.createContext();function O(e){var t=e.children,n=Object(c.useState)([]),r=Object(j.a)(n,2),i=r[0],a=r[1],s=Object(c.useState)([]),o=Object(j.a)(s,2),m=o[0],O=o[1];Object(c.useEffect)((function(){b.database().ref("photos").on("value",(function(e){var t=e.val(),n=[];for(var c in t)n.push({url:t[c],id:c,isFavorite:!1});a(n)}))}),[]);return Object(d.jsx)(f.Provider,{value:{allPhotos:i,toggleFavorite:function(e){a((function(t){return t.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{isFavorite:!t.isFavorite}):t}))}))},cartItems:m,addItemToCart:function(e){O((function(t){return[].concat(Object(u.a)(t),[e])}))},removeItemFromCart:function(e){O((function(t){return t.filter((function(t){return t.id!==e.id}))}))}},children:t})}var v=function(){var e=Object(c.useContext)(f).cartItems;return Object(d.jsxs)("header",{children:[Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)("h2",{children:"Pic Some"})}),Object(d.jsx)(s.b,{to:"/cart",children:e.length?Object(d.jsx)("i",{className:"ri-shopping-cart-fill ri-fw ri-2x"}):Object(d.jsx)("i",{className:"ri-shopping-cart-line ri-fw ri-2x"})})]})};n(49);var x=function(e){var t=Object(c.useState)(e),n=Object(j.a)(t,2),r=n[0],i=n[1],a=function(){return i(!0)},s=function(){return i(!1)},o=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=o.current;return e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",s),function(){e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",s)}}),[]),[r,o]};var h=function(e){var t=e.item,n=e.removeItemFromCart,r=x(!1),i=Object(j.a)(r,2),a=i[0],s=i[1];return Object(c.useEffect)((function(){s.current.className=a?"ri-delete-bin-fill":"ri-delete-bin-line"}),[a,s]),Object(d.jsxs)("div",{className:"cart-item",children:[Object(d.jsx)("i",{ref:s,className:"ri-delete-bin-line",onClick:function(){return n(t)}}),Object(d.jsx)("img",{alt:"",src:t.url,width:"130px"}),Object(d.jsx)("p",{children:"$5.99"})]})};n(50);var p=function(){var e=Object(c.useContext)(f),t=e.cartItems,n=e.removeItemFromCart,r=Object(c.useState)(!1),i=Object(j.a)(r,2),a=i[0],s=i[1],o=t.map((function(e){return Object(d.jsx)(h,{item:e,removeItemFromCart:n},e.id)})),u=(5.99*t.length).toLocaleString("en-US",{style:"currency",currency:"USD"});return Object(d.jsxs)("main",{className:"cart-page",children:[Object(d.jsx)("h1",{children:"Check out"}),o,Object(d.jsxs)("p",{className:"total-cost",children:["Total: ",u]}),t.length?Object(d.jsx)("div",{className:"order-button",children:Object(d.jsx)("button",{onClick:function(){s(!0),setTimeout((function(){t.map((function(e){return n(e)})),s(!1)}),3e3)},disabled:a,children:a?"Ordering...":"Place Order"})}):Object(d.jsx)("p",{children:"No items in cart"})]})};n(51);var g=function(e){var t=e.className,n=e.img,r=Object(c.useContext)(f),i=r.toggleFavorite,a=r.addItemToCart,s=r.removeItemFromCart,o=r.cartItems,u=x(!1),l=Object(j.a)(u,2),m=l[0],b=l[1],O=function(){return i(n.id)},v=function(){return a(n)},h=function(){return s(n)};return Object(d.jsxs)("div",{ref:b,className:"".concat(t," image-container"),children:[Object(d.jsx)("img",{src:n.url,alt:"",className:"image-grid"}),n.isFavorite?Object(d.jsx)("i",{className:"ri-heart-fill favorite",onClick:O}):m?Object(d.jsx)("i",{className:"ri-heart-line favorite",onClick:O}):void 0,o.some((function(e){return e.id===n.id}))?Object(d.jsx)("i",{className:"ri-delete-bin-fill cart",onClick:h}):m?Object(d.jsx)("i",{className:"ri-add-circle-line cart",onClick:v}):void 0]})};function N(e){return e%5===0?"big":e%6===0?"wide":void 0}var C=function(){var e=Object(c.useContext)(f).allPhotos;return Object(d.jsx)("main",{className:"photos",children:e.map((function(e,t){return Object(d.jsx)(g,{img:e,className:N(t)},e.id)}))})};var I=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(s.a,{basename:"/pic-some",children:[Object(d.jsx)(v,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",component:C}),Object(d.jsx)(o.a,{path:"/cart",component:p})]})]})})};a.a.render(Object(d.jsx)(O,{children:Object(d.jsx)(I,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.483d875e.chunk.js.map