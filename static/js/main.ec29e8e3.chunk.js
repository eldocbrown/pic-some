(this["webpackJsonppic-some"]=this["webpackJsonppic-some"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(19),a=n.n(i),s=(n(26),n(11)),o=n(2),u=(n(27),n(21)),j=n(17),l=n(7),m=n(1),b=r.a.createContext();function d(e){var t=e.children,n=Object(c.useState)([]),r=Object(l.a)(n,2),i=r[0],a=r[1],s=Object(c.useState)([]),o=Object(l.a)(s,2),d=o[0],f=o[1];Object(c.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){return a(e)}))}),[]);return Object(m.jsx)(b.Provider,{value:{allPhotos:i,toggleFavorite:function(e){a((function(t){return t.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{isFavorite:!t.isFavorite}):t}))}))},cartItems:d,addItemToCart:function(e){f((function(t){return[].concat(Object(u.a)(t),[e])}))},removeItemFromCart:function(e){f((function(t){return t.filter((function(t){return t.id!==e.id}))}))}},children:t})}var f=function(){var e=Object(c.useContext)(b).cartItems;return Object(m.jsxs)("header",{children:[Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)("h2",{children:"Pic Some"})}),Object(m.jsx)(s.b,{to:"/cart",children:e.length?Object(m.jsx)("i",{className:"ri-shopping-cart-fill ri-fw ri-2x"}):Object(m.jsx)("i",{className:"ri-shopping-cart-line ri-fw ri-2x"})})]})};n(34);var O=function(e){var t=Object(c.useState)(e),n=Object(l.a)(t,2),r=n[0],i=n[1],a=function(){return i(!0)},s=function(){return i(!1)},o=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=o.current;return e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",s),function(){e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",s)}}),[]),[r,o]};var h=function(e){var t=e.item,n=e.removeItemFromCart,r=O(!1),i=Object(l.a)(r,2),a=i[0],s=i[1];return Object(c.useEffect)((function(){s.current.className=a?"ri-delete-bin-fill":"ri-delete-bin-line"}),[a,s]),Object(m.jsxs)("div",{className:"cart-item",children:[Object(m.jsx)("i",{ref:s,className:"ri-delete-bin-line",onClick:function(){return n(t)}}),Object(m.jsx)("img",{alt:"",src:t.url,width:"130px"}),Object(m.jsx)("p",{children:"$5.99"})]})};n(35);var v=function(){var e=Object(c.useContext)(b),t=e.cartItems,n=e.removeItemFromCart,r=Object(c.useState)(!1),i=Object(l.a)(r,2),a=i[0],s=i[1],o=t.map((function(e){return Object(m.jsx)(h,{item:e,removeItemFromCart:n},e.id)})),u=(5.99*t.length).toLocaleString("en-US",{style:"currency",currency:"USD"});return Object(m.jsxs)("main",{className:"cart-page",children:[Object(m.jsx)("h1",{children:"Check out"}),o,Object(m.jsxs)("p",{className:"total-cost",children:["Total: ",u]}),t.length?Object(m.jsx)("div",{className:"order-button",children:Object(m.jsx)("button",{onClick:function(){s(!0),setTimeout((function(){t.map((function(e){return n(e)})),s(!1)}),3e3)},disabled:a,children:a?"Ordering...":"Place Order"})}):Object(m.jsx)("p",{children:"No items in cart"})]})};n(36);var x=function(e){var t=e.className,n=e.img,r=Object(c.useContext)(b),i=r.toggleFavorite,a=r.addItemToCart,s=r.removeItemFromCart,o=r.cartItems,u=O(!1),j=Object(l.a)(u,2),d=j[0],f=j[1],h=function(){return i(n.id)},v=function(){return a(n)},x=function(){return s(n)};return Object(m.jsxs)("div",{ref:f,className:"".concat(t," image-container"),children:[Object(m.jsx)("img",{src:n.url,alt:"",className:"image-grid"}),n.isFavorite?Object(m.jsx)("i",{className:"ri-heart-fill favorite",onClick:h}):d?Object(m.jsx)("i",{className:"ri-heart-line favorite",onClick:h}):void 0,o.some((function(e){return e.id===n.id}))?Object(m.jsx)("i",{className:"ri-delete-bin-fill cart",onClick:x}):d?Object(m.jsx)("i",{className:"ri-add-circle-line cart",onClick:v}):void 0]})};function p(e){return e%5===0?"big":e%6===0?"wide":void 0}var g=function(){var e=Object(c.useContext)(b).allPhotos;return Object(m.jsx)("main",{className:"photos",children:e.map((function(e,t){return Object(m.jsx)(x,{img:e,className:p(t)},e.id)}))})};var C=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(s.a,{basename:"/pic-some",children:[Object(m.jsx)(f,{}),Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/",component:g}),Object(m.jsx)(o.a,{path:"/cart",component:v})]})]})})};a.a.render(Object(m.jsx)(d,{children:Object(m.jsx)(C,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.ec29e8e3.chunk.js.map